{"version":3,"file":"resolver.js","sources":["../../../../../../../src/graphql/resolvers/mutations/promoteToPlayer/resolver.ts"],"sourcesContent":[null],"names":["__decorate","Field","ArgsType","PromoteFailureType","ObjectType","ensureAuthorizedUser","operateAsAdminAndFlush","Result","result","produce","toOtError","RoomNotFound","IdOperation","PromoteToPlayerResolver","Master","Player","Spectator","bcryptCompareNullable","publishRoomEvent","Mutation","Authorized","ENTRY","UseMiddleware","QueueMiddleware","RateLimitMiddleware","__param","Args","Ctx","PubSub","__metadata","PubSubEngine","Resolver"],"mappings":"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"}