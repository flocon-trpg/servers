{"version":3,"file":"resolver.js","sources":["../../../../../src/graphql/resolvers/mutations/writePrivateMessage/resolver.ts"],"sourcesContent":[null],"names":["__decorate","Field","MaxLength","ArgsType","WritePrivateMessageResolver","ensureAuthorizedUser","findRoomAndMyParticipant","WriteRoomPrivateMessageFailureResultType","WriteRoomPrivateMessageFailureType","isCharacterOwner","client","analyzeTextAndSetToEntity","RoomMessageSyntaxErrorType","entity","fixTextColor","User","FileSourceTypeModule","Reference","createRoomPrivateMessage","publishRoomEvent","Mutation","WriteRoomPrivateMessageResult","Authorized","ENTRY","UseMiddleware","QueueMiddleware","RateLimitMiddleware","__param","Args","Ctx","PubSub","__metadata","PubSubEngine","Resolver"],"mappings":"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"}