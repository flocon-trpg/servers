{"version":3,"file":"resolver.js","sources":["../../../../../src/graphql/resolvers/mutations/deleteFiles/resolver.ts"],"sourcesContent":[null],"names":["DeleteFilesResolver","ensureAuthorizedUser","File","stat","logger","remove","thumbsDir","__decorate","Mutation","Authorized","ENTRY","UseMiddleware","QueueMiddleware","RateLimitMiddleware","__param","Arg","Ctx","Resolver"],"mappings":"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"}