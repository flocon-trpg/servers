{"version":3,"file":"resolver.js","sources":["../../../../../src/graphql/resolvers/mutations/joinRoom/resolver.ts"],"sourcesContent":[null],"names":["__decorate","Field","RoomOperation","ObjectType","JoinRoomFailureType","createUnionType","ArgsType","ensureAuthorizedUser","result","operateAsAdminAndFlush","Result","produce","convertToMaxLength100String","RoomNotFound","IdOperation","JoinRoomResolver","bcryptCompareNullable","Player","publishRoomEvent","Spectator","Mutation","Authorized","ENTRY","UseMiddleware","QueueMiddleware","RateLimitMiddleware","__param","Args","Ctx","PubSub","__metadata","PubSubEngine","Resolver"],"mappings":"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"}