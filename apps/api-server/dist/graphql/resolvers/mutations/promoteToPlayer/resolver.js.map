{"version":3,"file":"resolver.js","sources":["../../../../../src/graphql/resolvers/mutations/promoteToPlayer/resolver.ts"],"sourcesContent":[null],"names":["__decorate","Field","ArgsType","PromoteFailureType","ObjectType","ensureAuthorizedUser","findRoomAndMyParticipant","operateParticipantAndFlush","PromoteToPlayerResolver","Master","Player","Spectator","bcryptCompareNullable","publishRoomEvent","Mutation","Authorized","ENTRY","UseMiddleware","QueueMiddleware","RateLimitMiddleware","__param","Args","Ctx","PubSub","__metadata","PubSubEngine","Resolver"],"mappings":"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"}