{"version":3,"file":"resolver.js","sources":["../../../../../src/graphql/resolvers/mutations/promoteToPlayer/resolver.ts"],"sourcesContent":[null],"names":["__decorate","Field","ArgsType","PromoteFailureType","ObjectType","ensureAuthorizedUser","operateAsAdminAndFlush","Result","result","produce","toOtError","RoomNotFound","IdOperation","PromoteToPlayerResolver","Master","Player","Spectator","bcryptCompareNullable","publishRoomEvent","Mutation","Authorized","ENTRY","UseMiddleware","QueueMiddleware","RateLimitMiddleware","__param","Args","Ctx","PubSub","__metadata","PubSubEngine","Resolver"],"mappings":"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"}